<?xml version="1.0" encoding="UTF-8"?>
<web-app xmlns="http://xmlns.jcp.org/xml/ns/javaee"
         xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
         xsi:schemaLocation="http://xmlns.jcp.org/xml/ns/javaee 
		 http://xmlns.jcp.org/xml/ns/javaee/web-app_3_1.xsd"
         version="3.1">
  <display-name>JanMat</display-name>
  <welcome-file-list>
    <welcome-file>index.html</welcome-file>
  </welcome-file-list>
  <filter>
    <filter-name>RequestLoggingFilter</filter-name>
    <filter-class>com.janmat.filters.RequestLoggingFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>RequestLoggingFilter</filter-name>
    <url-pattern>/*</url-pattern>
    <dispatcher>REQUEST</dispatcher>
  </filter-mapping>
  <filter>
    <filter-name>AuthenticationFilter</filter-name>
    <filter-class>com.janmat.filters.AuthenticationFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>AuthenticationFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <filter>
    <filter-name>DoNotCacheFilter</filter-name>
    <filter-class>com.janmat.filters.DoNotCacheFilter</filter-class>
  </filter>
  <filter-mapping>
    <filter-name>DoNotCacheFilter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping>
  <servlet>
    <servlet-name>LoginUser</servlet-name>
    <servlet-class>com.janmat.controller.LoginController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>LoginUser</servlet-name>
    <url-pattern>/LoginUser</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>RegisterUser</servlet-name>
    <servlet-class>com.janmat.controller.RegisterController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RegisterUser</servlet-name>
    <url-pattern>/RegisterUser</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>LogoutUser</servlet-name>
    <servlet-class>com.janmat.controller.LogoutController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>LogoutUser</servlet-name>
    <url-pattern>/LogoutUser</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>createNewPoll</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>createNewPoll</servlet-name>
    <url-pattern>/createNewPoll</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>myReviews</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>myReviews</servlet-name>
    <url-pattern>/myReviews</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>HighlyRated</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>HighlyRated</servlet-name>
    <url-pattern>/HighlyRated</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>MostReviewed</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>MostReviewed</servlet-name>
    <url-pattern>/MostReviewed</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>RatedByMe</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RatedByMe</servlet-name>
    <url-pattern>/RatedByMe</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>CreatedByMe</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>CreatedByMe</servlet-name>
    <url-pattern>/CreatedByMe</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>TotalReviews</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>TotalReviews</servlet-name>
    <url-pattern>/TotalReviews</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>WriteReview</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>WriteReview</servlet-name>
    <url-pattern>/WriteReview</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>SendResetEmail</servlet-name>
    <servlet-class>com.janmat.controller.EmailPasswordResetLink</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SendResetEmail</servlet-name>
    <url-pattern>/SendResetEmail</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>ResetPasswordPage</servlet-name>
    <servlet-class>com.janmat.controller.VerifyPasswordResetLink</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ResetPasswordPage</servlet-name>
    <url-pattern>/ResetPasswordPage</url-pattern>
  </servlet-mapping>
  <servlet>
    <servlet-name>SetNewPassword</servlet-name>
    <servlet-class>com.janmat.controller.SetNewPassword</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>SetNewPassword</servlet-name>
    <url-pattern>/SetNewPassword</url-pattern>
  </servlet-mapping>
   <servlet>
    <servlet-name>ChangeUserDetails</servlet-name>
    <servlet-class>com.janmat.controller.UserController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>ChangeUserDetails</servlet-name>
    <url-pattern>/ChangeUserDetails</url-pattern>
  </servlet-mapping>
  
   <servlet>
    <servlet-name>RefreshAll</servlet-name>
    <servlet-class>com.janmat.controller.PollController</servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>RefreshAll</servlet-name>
    <url-pattern>/RefreshAll</url-pattern>
  </servlet-mapping>
  
   <servlet>
    <servlet-name>UploadImage</servlet-name>
    <servlet-class>com.janmat.controller.ImageUploader</servlet-class>
    	<multipart-config>
	      <location>/tmp</location>
	      <max-file-size>10485760</max-file-size>
	      <max-request-size>20971520</max-request-size>
	      <file-size-threshold>5242880</file-size-threshold>
   		</multipart-config>
  </servlet>
  <servlet-mapping>
    <servlet-name>UploadImage</servlet-name>
    <url-pattern>/UploadImage</url-pattern>
  </servlet-mapping>
  
</web-app>